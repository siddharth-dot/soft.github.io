{% extends "layout.html" %}
{% block content %}
    <title> Prediction page</title>   
        <div class="container">
            <h1><strong><a href="#" style="color: rgb(0, 136, 169);" class="h1">#</a> Visualize your Inputs with Histograms</strong></h1>
            <hr class="my-4">
            <p class="text-justify" style="font-size: 20px;">However, we observed our subjects displaying
                confirmation bias when explaining their visualized data.
                In the classroom setting, collaborative critique from
                unbiased observers forced students to confront
                unhealthy features in their photographs. We watched
                individuals use the visualizations without any group
                support, and we believe that the lack of social critique
                made it easier for them to simply rely on past beliefs
                and biases when interpreting patterns in their data.
                Social support is important when dealing with diabetes
                and other behavioral ailments [6, 7],
                individuals to interpret their visualizations if we want
                them to rethink their beliefs and practices. In future
                work, we will study how the visualization tools can be
                used to mediate patient/physicians consultations.
                Physicians and other medical practitioners may be able
                to help patients develop new understanding about their
                conditions using additional, qualitative information in
                the form of photographs.</p>
                <p class="text-justify" style="font-size: 20px;">
                    These are all the histograms for the collected data. Compare your inputs with the histograms and try to visualize the outcome:
                    <div class="list-type5">
                      <ol>
                        <h1 style="color: darkcyan; font-family: 'Acme', sans-serif;;">Data Inputted</h1>
                      
                      <li><h2>Name:{{ Diabetes.Name }}</h2></li>
                      <li><h2>No of Pregnancies:{{ Diabetes.Pregnancies}}</h2></li>
                      <li><h2>BP:{{ Diabetes.BloodPressure }}</h2></li>
                      <li><h2>Insulin:{{ Diabetes.Insulin }}</h2></li>
                      <li><h2>Diabetes Pedigree Function:{{ Diabetes.DPF }}</h2></li>
                    
                      <li><h2>Glucose Level:{{ Diabetes.GLUCOSE }}</h2></li>
                      <li><h2>Skin Thickness:{{ Diabetes.Skin }}</h2></li>
                      <li><h2>BMI:{{ Diabetes.BMI }}</h2></li>
                      <li><h2>Age:{{ Diabetes.AGE }}</h2></li>
                      <li><h2>Model Selected:{{ Diabetes.Cmodel }}</h2></li>
                    </div>
                      </ol>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    <p id="d1" style="opacity: 0;">{{ Diabetes.Cmodel }}</p>
                </p>
                <div id="carouselExampleIndicators" class="carousel slide card" data-ride="carousel" style="margin-bottom: 20px;">
                    <ol class="carousel-indicators">
                      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                      <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                      <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
                      <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
                      <li data-target="#carouselExampleIndicators" data-slide-to="5"></li>
                      <li data-target="#carouselExampleIndicators" data-slide-to="6"></li>
                      <li data-target="#carouselExampleIndicators" data-slide-to="7"></li>
                    </ol>
                    <div class="carousel-inner">
                      <div class="carousel-item active">
                        <img style="filter: brightness(98%);" class="d-block w-100" src={{url_for('static', filename='pregnancies.png')}} alt="First slide">
                      </div>
                      <div class="carousel-item">
                        <img style="filter: brightness(98%);" class="d-block w-100" src={{url_for('static', filename='glucose.png')}} alt="Second slide">
                      </div>
                      <div class="carousel-item">
                        <img style="filter: brightness(98%);" class="d-block w-100" src={{url_for('static', filename='bloodpressure.png')}} alt="Third slide">
                      </div>
                      <div class="carousel-item">
                        <img style="filter: brightness(98%);" class="d-block w-100" src={{url_for('static', filename='skinthickness.png')}} alt="Third slide">
                      </div>
                      <div class="carousel-item">
                        <img style="filter: brightness(98%);" class="d-block w-100" src={{url_for('static', filename='insulin.png')}} alt="Third slide">
                      </div>
                      <div class="carousel-item">
                        <img style="filter: brightness(98%);" class="d-block w-100" src={{url_for('static', filename='bmi.png')}} alt="Third slide">
                      </div>
                      <div class="carousel-item">
                        <img style="filter: brightness(98%);" class="d-block w-100" src={{url_for('static', filename='diabetespedigreefunction.png')}} alt="Third slide">
                      </div>
                      <div class="carousel-item">
                        <img style="filter: brightness(98%);" class="d-block w-100" src={{url_for('static', filename='age.png')}} alt="Third slide">
                      </div>
                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="sr-only">Next</span>
                    </a>
                  </div>
            
                <h1><strong><a href="#" style="color: rgb(0, 136, 169);" class="h1">#</a> Plot & Outcome for your Model</strong></h1>
                <hr class="my-4">
                <div class="row">
                  
                    <div class="col-6">
                      <p id="demo" style="opacity: 0;"></p>
                      <button onclick ="myFunction()">For Graph and Final Analysis</button>
                      <br><br>
                      <div class="list-type5">
                        <ol >
                          <li id="treat" style="color: #24252A;">Final Analysis</li>
                        <li id="explain" style="color: #24252A;">Graph Explanation</li></ol>
                      </div>
                      <img id="img" src="#">
                      <script>
                        function myFunction(){
                        var model=document.getElementById("d1").textContent;
                        document.getElementById("demo").innerHTML=model;
                        if(model == 1){
                          document.getElementById("img").src="static/logical.jpg";
                          document.getElementById("treat").innerHTML="Looks like your BMI and Insulin is a little over the edge. Nothing that balanced diet and exercise can't fix. But we would suggest that you take medical guidance";
                          document.getElementById("explain").innerHTML="In the graph below, the red part represents if the person will diabetes and green part represents the person will not get diabetes"
                         }
                         else if(model == 2){
                         document.getElementById("img").src="static/knearest.jpg";
                         document.getElementById("treat").innerHTML="Looks like you have been taking great care of yourself. That's great Keep up the great work.";
                         document.getElementById("explain").innerHTML="In the graph below, the red part represents if the person will diabetes and green part represents the person will not get diabetes"
                         }
                         else if(model == 3){
                         document.getElementById("img").src="static/svm.jpg";
                         document.getElementById("treat").innerHTML="Looks like your BMI and Insulin is a little over the edge. We would suggest that you take medical guidance. And also cut down on the sugar. ";
                         document.getElementById("explain").innerHTML="In the graph below, the red part represents if the person will diabetes and green part represents the person will not get diabetes"
                         }
                         else if(model == 5){
                         document.getElementById("img").src="static/naive.jpg";
                         document.getElementById("treat").innerHTML="Looks like you have been taking great care of yourself. That's great! Keep up the great work.";
                         document.getElementById("explain").innerHTML="In the graph below, the red part represents if the person will diabetes and green part represents the person will not get diabetes"
                         }
                         else if(model == 6){
                         document.getElementById("img").src="static/decision.jpg";
                         document.getElementById("treat").innerHTML="Some of your inputs do not look too well. Nothing to worry about. Get medical help as soon as possible and you'll be just fine.";
                         document.getElementById("explain").innerHTML="In the graph below, the red part represents if the person will diabetes and green part represents the person will not get diabetes"
                         }
                         else{
                         document.getElementById("img").src="static/random.jpg";
                         document.getElementById("treat").innerHTML="Your BMI and Insulin do not look too well. Nothing to worry about. Get medical help as soon as possible and you'll be just fine.";
                         document.getElementById("explain").innerHTML="In the graph below, the red part represents if the person will diabetes and green part represents the person will not get diabetes"
                         }
                        }
                      </script> 
                    </div>
                    <div class="col-12" style="width: 100%; height: 100%; text-align: center;">
                        
                        <div class="row">
                            <div class="col-12">
                                <div class="card shadow-sm" style="margin-bottom: 30px; padding: 25px; background-color: rgba(0,136,169,0.20);">
                                    <h5 class="card-text"><u>OUTCOME</u></h5>
                                    <h4 class="card-text"><strong>{{ mylist[-1] }}</strong></h4>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <div class="card shadow-sm" style="margin-bottom: 30px; padding: 25px; background-color: rgba(0,136,169,0.20);">
                                    <h5 class="card-text"><u>ACCURACY</u></h5>
                                    <h3 class="card-text"><span class="text-success"><strong>{{ mylist[0] }}%</strong></span></h3>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="card shadow-sm" style="margin-bottom: 30px; padding: 25px; background-color: rgba(0,136,169,0.20);">
                                    <h5 class="card-text"><u>PRECISION</u></h5>
                                    <h3 class="card-text"><span class="text-success"><strong>{{ mylist[1] }}%</strong></span></h3>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <div class="card shadow-sm" style="margin-bottom: 30px; padding: 25px; background-color: rgba(0,136,169,0.20);">
                                    <h5 class="card-text"><u>RECALL</u></h5>
                                    <h3 class="card-text"><span class="text-success"><strong>{{ mylist[2] }}%</strong></span></h3>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="card shadow-sm" style="margin-bottom: 30px; padding: 25px; background-color: rgba(0,136,169,0.20);">
                                    <h5 class="card-text"><u>F1 SCORE</u></h5>
                                    <h3 class="card-text"><span class="text-success"><strong>{{ mylist[3] }}%</strong></span></h3>
                                </div>
                            </div>
                        </div>
                    </div>
            
                </div>
                <div class="row">
                    <div class="col-12">
                        <div class="card" style="color: wheat; background-color: #24252A; margin-bottom: 30px;">
                            <div class="card-body">
                              <h1 class="card-title" style="color: #edf0f1; font-weight: bold;"><a href="#" style="color: rgb(0, 136, 169);" class="h1">#</a> Is the Outcome of the Model Correct?</h1>
                              <h6 class="card-subtitle mb-2 text-muted">**Help us improve Accuracy of the Model**</h6>
                              <hr class="my-4">
                                <form action="{{ url_for('diabetes_response') }}" method="POST">
                                    <div>
                                        <button type="submit"  style="display: inline; margin: auto;" name="response" value="NO">NO</button>
                                        <button type="submit"  style="display: inline; margin: auto;" name="response" value="YES">YES</button>
                                    </div>
                                </form>
                            </div>
                          </div>
                    </div>
                </div>
                
            </div>
            
            {% endblock %}
            